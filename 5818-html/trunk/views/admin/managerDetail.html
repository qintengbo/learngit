<div class="panel panel-default">
    <div class="panel-heading">{{(!!vm.id)?"账户管理":"账户新增"}}</div>
    <div class="panel-body">
        <form class="form-horizontal" name="formData" novalidate="novalidate">
            <div class="form-group">
                <label class="control-label col-xs-2 text-right"><i class="margin-right-3 error">*</i>登录名</label>
                <div class="col-xs-9">
                    <input type="text" class="form-control" name="name" ng-model="vm.data.name" placeholder="请输入登录名" required>
                    <div ng-class="{error:formData.name.$invalid}" ng-messages="formData.name.$error"
                         ng-if="formData.name.$touched" required>
                        <div ng-message="required"><i class="margin-right-3 error">*</i>请输入登录名</div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-xs-2 text-right"><i class="margin-right-3 error">*</i>手机号码</label>
                <div class="col-xs-9">
                    <input type="text" class="form-control" minlength="11" maxlength="11" ng-model="vm.data.mobile"
                            placeholder="请输入手机号码" name="mobile" numberic required>
                    <span class="error" ng-show="formData.mobile.$dirty&& formData.mobile.$touched && formData.mobile.$invalid">请输入11位号码</span>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-xs-2 text-right"><i class="margin-right-3 error" ng-if="!vm.id">*</i>密码</label>
                <div class="col-xs-9">
                    <input type="password" class="form-control" ng-model="vm.data.pwd" placeholder="请输入密码"
                           name="code" ng-minlength="6" ng-maxlength="16" ng-change="vm.rechange()" ng-required="!vm.id">
                    <span class="error" ng-show="formData.code.$dirty&& formData.code.$touched && formData.code.$invalid">请输入6~16位密码</span>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-xs-2 text-right"><i class="margin-right-3 error" ng-if="!vm.id">*</i>密码确认</label>
                <div class="col-xs-9">
                    <input type="password" class="form-control" ng-model="vm.data.newPwd" placeholder="请输入密码"
                           name="recode" id="recode" pw-check="recode" ng-change="vm.rechange()" ng-required="!vm.id">
                    <!--<span class="error" ng-show="formData.$dirty && formData.recode.$invalid">请输入6~16位密码</span>-->
                    <span class="error" ng-show="!vm.pwdSrue && formData.recode.$touched&& formData.recode.$dirty">两次密码必须一致</span>

                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-xs-2 text-right"><i class="margin-right-3 error">*</i>角色</label>
                <div class="col-xs-9">
                    <select class="form-control" style="min-width: 160px" ng-model="vm.data.roleID" required>
                        <option ng-repeat="role in vm.roleList" ng-value="role.id" ng-selected="vm.data.roleID == role.id">{{role.name}}</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <div class="col-xs-9 col-xs-offset-2">
                    <div class="col-xs-4">
                        <button class="btn btn-default btn-block" ng-click="vm.saveOrUpdate()" ng-disabled="formData.$invalid||(!vm.pwdSrue&&!vm.id)">保存</button>
                    </div>
                    <div class="col-xs-4">
                        <button class="btn btn-default btn-block" ui-sref="field.manager">取消</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>