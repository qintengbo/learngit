angular.module("admin").controller("bannerSetController",["$scope","parameterService","$state","$rootScope",function(a,t,e,r){var s=this;s.searchParams=e.params,s.searchParams.startAt=parseInt(s.searchParams.startAt)||void 0,s.searchParams.endAt=parseInt(s.searchParams.endAt)||void 0,a.getList=function(){s.searchParams.type=2,t.getArticleList(s.searchParams).then(function(a){0==a.data.code?(s.list=a.data.data.articleList,s.total=a.data.data.total):r.alert(a.data.message)})},a.getList(),a["delete"]=function(a){r.operationConfirm("您确定删除这条数据?","你确定要执行删除操作吗？",function(){t.deleteArticle(a).then(function(a){0==a.data.code?r.alert("已成功删除",function(){e.go(e.current,{},{reload:!0})}):r.alert(a.data.message)})})},a.saveDrop=function(){s.ids=[],angular.forEach(s.list,function(a,t){s.ids[t]=a.id}),r.confirm("是否保存排序?",function(){t.saveDrop(s.ids).then(function(a){0==a.data.code?r.alert("已保存排序",e.go(e.current,s.searchParams,{reload:!0})):r.alert(a.data.message,e.go(e.current,s.searchParams,{reload:!0}))})})}}]);