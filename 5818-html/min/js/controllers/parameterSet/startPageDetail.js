angular.module("admin").controller("startPageDetailController",["$scope","$rootScope","$state","uploadService","FileUploader","parameterService","$timeout",function(a,e,t,r,o,i,n){var d=this;d.params={},d.params.type=7,d.id=t.params.id,o.FileSelect.prototype.isEmptyAfterSelection=function(){return!0},d.uploader=r.uploadFile(o),d.uploader.onSuccessItem=function(a,e,t,r){200==t&&(d.params.img=e.data.url)},d.id?(i.putArticleDetail(d.id).then(function(a){0===a.data.code?d.params=a.data.data.article:e.alert(a.data.message)}),d.newStartPage=function(a,r){r?(d.error=!0,n(function(){d.error=!1},3e3)):(d.params.status=a,i.putArticle(d.id,d.params).then(function(a){0===a.data.code?t.go("field.startPageSet",{},{reload:!0}):e.alert(a.data.message)}))}):d.newStartPage=function(a,r){r?(d.error=!0,n(function(){d.error=!1},3e3)):(d.params.status=a,i.addArticle(d.params).then(function(a){0==a.data.code?t.go("field.startPageSet",{},{reload:!0}):e.alert(a.data.message)}))}}]);