angular.module("admin").controller("lotteryTypeSetController",["$scope","parameterService","$rootScope","$state",function(t,a,e,r){function o(){a.getlotteryTypeList(n.params).then(function(t){0==t.data.code?(n.list=t.data.data.list,n.totalPage=t.data.total):e.alert(t.data.message)})}var n=this;n.params={},n.params.page=r.params.page||1,n.params.size=r.params.size||10,o(),t.lotteryStartEnd=function(t,o){e.confirm("是否切换状态?",function(){a.lotteryStartEnd(t,o).then(function(t){0==t.data.code?r.go(r.current,{},{reload:!0}):e.alert(t.data.message)})})},t.goToSkill=function(t){var a=JSON.stringify({lotteryType:t.typeCode,lotteryName:t.name});sessionStorage.lotteryInfo=a,r.go("field.lotterySkill",{},{reload:!0})},t.saveDrop=function(){n.ids=[],angular.forEach(n.list,function(t,a){n.ids[a]=t.id}),e.confirm("是否保存排序?",function(){a.saveLotterySort(n.ids).then(function(t){0==t.data.code?e.alert("已保存排序",r.go(r.current,n.searchParams,{reload:!0})):e.alert(t.data.message,r.go(r.current,n.searchParams,{reload:!0}))})})}}]);