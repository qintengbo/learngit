angular.module("admin").controller("startPageSetController",["$scope","$state","parameterService","$rootScope",function(a,t,e,r){var s=this;s.searchParams=t.params,s.searchParams.startAt&&(s.searchParams.startAt=parseInt(s.searchParams.startAt)||void 0),s.searchParams.endAt&&(s.searchParams.endAt=parseInt(s.searchParams.endAt)||void 0),s.searchParams.type=7,e.getArticleList(s.searchParams).then(function(a){0==a.data.code?(s.list=a.data.data.articleList,s.total=s.total=a.data.data.total):r.alert(a.data.message)}),a["delete"]=function(a){r.operationConfirm("您确定删除这条数据?","你确定要执行删除操作吗？",function(){e.deleteArticle(a).then(function(a){0==a.data.code?r.alert("已成功删除",function(){t.go(t.current,{},{reload:!0})}):r.alert(a.data.message)})})},a.saveDrop=function(){s.ids=[],angular.forEach(s.list,function(a,t){s.ids[t]=a.id}),r.confirm("是否保存排序?",function(){e.saveDrop(s.ids).then(function(a){0===a.data.code?r.alert("已保存排序",t.go(t.current,s.searchParams,{reload:!0})):r.alert(a.data.message,t.go(t.current,s.searchParams,{reload:!0}))})})}}]);