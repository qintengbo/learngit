angular.module("admin").controller("winCount",["$rootScope","commonUtil","$scope","$state","wincountService","parameterService",function(a,t,r,s,e,p){function n(){p.getlotteryTypeList().then(function(t){0==t.data.code?m.list=t.data.data.list:a.alert(t.data.message)})}var m=this;m.params=s.params,m.params&&m.params.startAt&&null!=m.params.startAt&&void 0!=m.params.startAt&&(m.params.startAt=parseInt(s.params.startAt)),m.params&&m.params.endAt&&null!=m.params.endAt&&void 0!=m.params.endAt&&(m.params.endAt=parseInt(s.params.endAt)),m.params&&(m.params.showList=!!s.params.showList),m.heading=!1,s.params&&!m.choseArr&&(m.choseArr={type:s.params.typeCode,startAt:s.params.startAt,endAt:s.params.endAt}),n(),m.params&&(m.params.endAt||m.params.startAt||m.params.typeCode)&&(m.params.page=s.params.page,console.log(m.params),e.winCount(m.params.typeCode,m.params).then(function(t){0==t.data.code?(m.params.page=s.params.page||1,m.params.size=s.params.size||10,m.winCount=t.data.data.data,m.choseArr.type=m.params.typeCode,m.choseArr.startAt=m.params.startAt,m.choseArr.endAt=m.params.endAt,m.total=t.data.data.total,m.heading=!0):a.alert(t.data.message)})),m.search=function(){if(m.params.showList=!0,m.params.endAt){var a=String(m.params.endAt),t=a.substring(a.length-1,a.length);9!=t&&(m.params.endAt=m.params.endAt+864e5-1)}s.go(s.current,m.params,{reload:!0})},m.clear=function(){m.params=null,m.choseArr=[],m.heading=!1,m.total=null}}]);