angular.module("admin").controller("helpAndSkillSetController",["$rootScope","$scope","$state","parameterService",function(a,e,t,r){var s=this;s.searchParams=t.params,s.searchParams.startAt=parseInt(s.searchParams.startAt)||void 0,s.searchParams.endAt=parseInt(s.searchParams.endAt)||void 0,s.searchParams.type=6,s.getHelpList=function(){r.getArticleList(s.searchParams).then(function(e){0===e.data.code?(s.list=e.data.data.articleList,s.total=e.data.data.total):2===e.data.code||a.alert(e.data.message)})},s.getHelpList(),s.helpAndSkillSetDle=function(e){a.operationConfirm("删除后该帮助信息将直接下架并在本地删除","你确定要执行删除操作吗?",function(){r.deleteArticle(e).then(function(e){0===e.data.code?a.alert("已成功删除",t.go(t.current,s.searchParams,{reload:!0})):a.alert(e.data.message,t.go(t.current,s.searchParams,{reload:!0}))})})},s.saveDrop=function(){s.ids=[],angular.forEach(s.list,function(a,e){s.ids[e]=a.id}),a.confirm("是否保存排序?",function(){r.saveDrop(s.ids).then(function(e){0===e.data.code?a.alert("已保存排序",t.go(t.current,s.searchParams,{reload:!0})):a.alert(e.data.message,t.go(t.current,s.searchParams,{reload:!0}))})})}}]);