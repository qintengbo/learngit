angular.module("admin").controller("adviertisementSetController",["$rootScope","$scope","$state","parameterService",function(a,t,e,r){var s=this;s.searchParams=e.params,s.searchParams.startAt=parseInt(s.searchParams.startAt)||void 0,s.searchParams.endAt=parseInt(s.searchParams.endAt)||void 0,s.searchParams.type=5,s.getAdviertisementList=function(){r.getArticleList(s.searchParams).then(function(t){0===t.data.code?(s.list=t.data.data.articleList,s.total=t.data.data.total):2===t.data.code||a.alert(t.data.message)})},s.getAdviertisementList(),s.adviertisementSetDel=function(t,n){a.operationConfirm("您确定删除这条数据?","你确定要执行删除操作吗？",function(){r.deleteArticle(t).then(function(t){0===t.data.code?a.alert("已成功删除",function(){s.list.splice(n,1)}):a.alert(t.data.message,e.go(e.current,s.searchParams,{reload:!0}))})})},s.saveDrop=function(){s.ids=[],angular.forEach(s.list,function(a,t){s.ids[t]=a.id}),a.confirm("是否保存排序?",function(){r.saveDrop(s.ids).then(function(t){0===t.data.code?a.alert("已保存排序",e.go(e.current,s.searchParams,{reload:!0})):a.alert(t.data.message,e.go(e.current,s.searchParams,{reload:!0}))})})}}]);