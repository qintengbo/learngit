angular.module("admin").directive("pagination",["$state",function(e){return{restrict:"EA",templateUrl:"js/directives/ptteng-paging/pagination.html",replace:!0,scope:{total:"@"},link:function(a,t,i){function n(){return f!==g}function r(){return 1!==f}function u(){var e=[];if(s()&&p()){for(var a=0;a<5;a++)e.push(f+a);e.unshift("..."),e.push("...")}if(s()&&!p()){for(var a=g-4;a<=g;a++)e.push(a);e.unshift("...")}if(!s()&&p()){if(g>5)for(var a=0;a<5;a++)e.push(f+a);else for(var a=1;a<g;a++)e.push(a);e.push("...")}if(!s()&&!p())for(var a=1;a<=g;a++)e.push(a);return e}function s(){return f-1>4}function p(){return f<g-4}function o(e){return Number(e)===f||"..."===e||Number(e)>g}function c(e){return e===f}var f=parseInt(e.params.page);a.size=e.params.size?parseInt(e.params.size):10;var g=Math.ceil(parseInt(a.total)/a.size);a.activePage=f,a.totalPage=g,a.isHaveNextPage=n,a.isHavePrePage=r,a.pageList=u(),a.isDisabled=o,a.isActive=c,a.changeInput=function(){a.jumpPage=a.jumpPage.replace(/[^0-9]/g,""),a.jumpPage>g&&(a.jumpPage=g)},a.changeSize=function(){a.size=a.size.replace(/[^0-9]/g,""),0===parseInt(a.size)&&(a.size=10)},a.goPage=function(t){o(t)||e.go(e.current,{page:t||1,size:a.size},{reload:!0})}}}}]);