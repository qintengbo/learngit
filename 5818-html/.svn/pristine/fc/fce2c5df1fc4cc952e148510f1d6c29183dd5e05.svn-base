angular.module("admin").controller("parameterSetController",["$scope","parameterService","$rootScope",function(t,a,e){function n(){a.getLuckSet().then(function(t){0==t.data.code?c.luckySetParams=t.data.data:e.alert(t.data.message)})}function r(){a.getScoureMoneySet().then(function(t){0==t.data.code&&(c.scoreMoneySetParams=t.data.data)})}function o(){a.getWithDrawalsSet().then(function(t){0==t.data.code&&(c.withDrawalsSetParams=t.data.data)})}var c=this;c.btnStatus={luckySetBtn:!1,scoreMoneySetBtn:!1,withDrawalsSet:!1},c.luckySetParams={},c.scoreMoneySetParams={},c.withDrawalsSetParams={},n(),t.luckySet=function(){a.luckySet({luckyCount:c.luckySetParams.luckyCount}).then(function(t){0==t.data.code?(c.btnStatus.luckySetBtn=!1,e.alert("设置成功")):e.alert(t.data.message)})},r(),t.scoreMoneySet=function(){a.scoreMoneySet(c.scoreMoneySetParams).then(function(t){0==t.data.code?(c.btnStatus.scoreMoneySetBtn=!1,e.alert("设置成功")):e.alert(t.data.message)})},o(),t.withDrawalsSet=function(){a.withDrawalsSet(c.withDrawalsSetParams).then(function(t){return c.withDrawalsSetParams.cashPercent>100?(e.alert("每笔充值提现比例不能大于100%"),c.withDrawalsSetParams.cashPercent="",!1):void(0==t.data.code?(c.btnStatus.withDrawalsSet=!1,e.alert("设置成功")):e.alert(t.data.message))})}}]);