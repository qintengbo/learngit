angular.module("admin").controller("channelEditController",["$rootScope","$scope","$state","parameterService","$timeout",function(a,e,t,r,n){function o(a){var e=parseInt(a),t=["全部","Android","iOS","H5"];return t[e+1]}var d=this;d.params={},d.id=t.params.id,d.id?(r.getChannelDetail(d.id).then(function(e){0===e.data.code?(d.params.channelNo=e.data.data.channelNo,d.params.channelName=e.data.data.channelName,d.params.platform=parseInt(e.data.data.platform)):a.alert(e.data.message)}),d.addChannel=function(e){e?(d.error=!0,n(function(){d.error=!1},3e3)):(d.params.platformName=o(d.params.platform),r.putChannelSet(d.id,d.params).then(function(e){0===e.data.code?a.alert("修改成功",t.go("field.channelSet",{},{reload:!0})):a.alert(e.data.message)}))}):d.addChannel=function(e){e?(d.error=!0,n(function(){d.error=!1},3e3)):(null!=d.params.platform&&void 0!=d.params.platform||(d.params.platform=2),d.params.platformName=o(d.params.platform),r.addChannelSet(d.params).then(function(e){0===e.data.code?(d.addChannel=e.data.data,a.alert("添加成功",t.go("field.channelSet",{},{reload:!0}))):a.alert(e.data.message)}))}}]);